# What is the Open Step Library?

An **open source**, easy to search collection of scripts and programs (called **Steps**)
which can be chained together to create a **workflow** (pipeline).

The Open Step Library (or *StepLib*) is meant to provide the
specifications and tools in addition to maintain the collection of course.


# General guidelines



# Step specification

## What is a Step?

A step is an open source repository which contains (at least)
a **step.sh** bash script, as the entry point of the step.

This entry script (*step.sh*) will be executed
when the step runs (through a StepLib compatible tool).

## Step Repository Structure

### step.sh

This is the **entry point of the Step**. A StepLib
system will execute this file when it runs the Step.
You can run other scripts and programs from
*step.sh*. For example if you want to write your
Step in ruby then all you have to include in the *step.sh*
file is the code to run your own ruby script,
something like this:

    #!/bin/bash
  
    THIS_SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
  
    ruby "${THIS_SCRIPT_DIR}/my_ruby_script.rb"
    exit $?


**inputs**: A step receives all of its inputs through **environment variables**. These inputs can be (and should be)
specified in the *step.yml* description of the Step.

**exit code**: the exit code generated by step.sh
is interpreted as the success/failure code of the whole Step.
If it returns 0 the Step will be considered as successful.
If it returns with a greater than 0 exit code then
the Step is considered to be failed.


### step.yml

Description of the step in YAML format which can be processed by StepLib compatible tools and services.

This file contains the description of the step, platform compatibility
information, the address of the step's repository, the inputs
the step can accept, the outputs the step generates and other
information which can be used to properly configure and run
a step.

Specifies information for StepLib users like what platforms
the Step supports, what's the official website of the
Step, where can a user find the Step's code and
where can a user fork the Step.

Also defines an input list for the Step which then
can be presented as User Interface for the Step
and a StepLib compatible system can interpret these
inputs and map the user input values to
environment variables which will be available for the Step.

For a full description of the *step.yml* description
file see the documentation on GitHub: [https://github.com/steplib/steplib/blob/master/docs/step_format.md](https://github.com/steplib/steplib/blob/master/docs/step_format.md)


### LICENSE

We don't accept steps into the StepLib without a license included in the repository!
Read more about why it's important to have a license file
in your open source repository on GitHub: [https://github.com/steplib/steplib/blob/master/templates/step/LICENSE](https://github.com/steplib/steplib/blob/master/templates/step/LICENSE).


### README.md

Technically the *README* is not required but we strongly suggest to use one.

It can be a very simple description of what your Step does,
in just a couple of sentences.

Best practice is to include information about how
someone else can contribute to the development of the Step.

You can also include a link to the StepLib website, including your
own Step's page on StepLib (once it's submitted
into the Open StepLib collection), something like this:

This Step is part of the [Open StepLib](http://www.steplib.com/),
you can find its page on StepLib [here](http://www.steplib.com/step/your-step-id).

You can find an example README file in the [step-template](https://github.com/steplib/step-template) repository, which contains all the template information about how a step can be tested, about contribution and about submission to the Open Step Library collection.


# Workflow specification

## Environments

Workflow environments are accessible by all the steps in the workflow,
but a step's input can overwrite this.

Use can use this to specify general parameters for your steps
which - if required - can be overwritten by specifying the input
for the step itself.....
